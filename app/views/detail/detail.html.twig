{% extends 'base.html.twig' %}

{% block title %}<title>juste un article</title>{% endblock %}

{% block header %}
<header>
    <div class="container">
        <div class="row">   
            <div class="col-lg-12">
                {% if detail.postStatus == 'Open' %} 
                <h1>{{detail.postTitle}}</h1>
                <h4>auteur : {{user.nameUser}} {{user.surNameUser}}</h4>
                <h6>Dernière mise à jour de cet article : lE  {{detail.postModified}}</h6>
                <hr>
                {# todo : a condition post.postStatus = open # ... here not necessary the blogPost havebeen filtred before #}     
                <p>{{detail.postChapo}}<p>
                    <hr>
                <p>{{detail.postContent}}</p>
                <hr>
                {% else %}
                <h1>Désolé cet article est en attente de validation ou a été fermé</h1>
                {% endif %}
            </div>
        </div>
    </div>
    </div>
</header>
{% endblock %}

    {# postComments
    {# id	CommentCreated	commentStatus	commentContent	user_id	blog_post_id	blog_post_user_id #}
    {% block myComments %}

    <div class="container">
        <div class="row"> 
            <div class="col-lg-12"></div>  
            <h6 class="text-center">Commentaire(s)</h6>
            <hr>
            <p>
            {% for comment in postComments %}
                {% if comment.commentStatus == 'Open' %} 
                        <p>{{comment.commentContent}}</p>
                {% else %}
                    <h1>Désolé aucun commentaire n'a été trouvé.</h1>
                {% endif %} 
                <hr>
            {% endfor %}  
            </p>
    </div> 
    </div>
    {% endblock %}


